<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ball</title>
</head>
<body>
<canvas id="canvas" height="600px" width = "800px"></canvas>
<script>
var canvas = null,
    ctx = null,
    perSecond =1000/30,
    ballX = 2,
    ballY = 2,
    ballXspeed = 5,
    ballYspeed = 6,
    paddleX = 400,
    score;

const PADDLE_WIDTH = 100;
const PADDLE_HEIGHT = 10;
const PADDLE_FORM_EDAGE =60;

function mousePos(evt) {
    var rect = canvas.getBoundingClientRect();
    var root = document.documentElement;
    var mouseX = evt.clientX - rect.left - root.scrollLeft;
    paddleX = mouseX;
}
window.onload = function () {
    canvas = document.getElementById("canvas");
    ctx = canvas.getContext("2d");
    ctx.fillStyle = "#000";
    ctx.fillRect(0,0,canvas.width,canvas.height);
    setInterval(update,perSecond);
    canvas.addEventListener("mousemove",mousePos);
}
function update() {
    moveAll();
    drawAll();
}
function ballReset(){
    ballX = canvas.width / 2;
    ballY = canvas.height / 2;
}
function moveAll() {
    ballX += ballXspeed;
    ballY += ballYspeed;
    if (ballX > canvas.width){
        ballXspeed *= -1;
    }
    if (ballX < 0){
        ballXspeed *= -1;
    }
    if (ballY > canvas.height){
        ballReset ();
    }
    if(ballY < 0){
        ballYspeed *= -1;
    }
    var paddleTopY = canvas.height - PADDLE_FORM_EDAGE;
    var paddleBottomY = paddleTopY + PADDLE_HEIGHT;
    var paddleLeftX = paddleX;
    var paddleRightX = paddleLeftX + PADDLE_WIDTH;

    if (ballY > paddleTopY && ballY < paddleBottomY && ballX > paddleLeftX && ballX && paddleRightX ){
        ballXspeed *= -1;
    }
}
function drawAll() {
    colorBox("#000",0,0,canvas.width,canvas.height);
    circle("#fff",ballX,ballY,10);
    colorBox("#fff",paddleX,canvas.height-PADDLE_FORM_EDAGE,PADDLE_WIDTH,PADDLE_HEIGHT);
}
function colorBox(color,x,y,width,height){
    ctx.fillStyle = color;
    ctx.fillRect(x,y,width,height);
}
function circle(color,x,y,radius){
    ctx.beginPath();
    ctx.fillStyle = color;
    ctx.arc(x,y,radius,0,Math.PI*2);
    ctx.fill();
}
</script>
</body>
</html>